module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},62212,a=>{a.n(a.i(66114))},7733,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/LocalStorageClient/index.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/LocalStorageClient/index.jsx <module evaluation>","default")},37729,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/LocalStorageClient/index.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/LocalStorageClient/index.jsx","default")},97451,a=>{"use strict";a.i(7733);var b=a.i(37729);a.n(b)},94527,a=>{"use strict";a.s(["default",()=>c,"propTypes",()=>d]);var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/react-bootstrap/esm/Image.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/react-bootstrap/esm/Image.js <module evaluation>","default"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call propTypes() from the server but propTypes is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/react-bootstrap/esm/Image.js <module evaluation>","propTypes")},22384,a=>{"use strict";a.s(["default",()=>c,"propTypes",()=>d]);var b=a.i(11857);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/node_modules/react-bootstrap/esm/Image.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/react-bootstrap/esm/Image.js","default"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call propTypes() from the server but propTypes is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/node_modules/react-bootstrap/esm/Image.js","propTypes")},69796,a=>{"use strict";a.i(94527);var b=a.i(22384);a.n(b)},24469,a=>{"use strict";a.s(["Image",()=>b.default]);var b=a.i(69796)},165,a=>{"use strict";a.s(["getBannerServer",()=>d,"productDetailServer",()=>g,"queryProductCategoriesServer",()=>f,"queryProductListServer",()=>e],165),a.i(70396);var b=a.i(73727);async function c(a,{config:d={},...e}={}){let f={"X-API-Key":process.env.API_KEY||"","X-Server-Request":"true"},{baseURL:g,cache:h,revalidate:i,server:j,errorMessage:k,withCredentials:l,debug:m,localCache:n,localStorage:{keys:o,merge:p}}={baseURL:"https://api.limeetpet.com/",cache:"force-cache",revalidate:60,server:!0,errorMessage:"请求数据失败",withCredentials:!1,debug:{enabled:!1,logRequest:!1,logResponse:!1,logCache:!1,logLocalStorage:!1},localCache:{enabled:!1,ttl:60,key:null},localStorage:{keys:[],merge:{enabled:!1,strategy:"preserve"}},...d},q=n.key||`${a}-${e.method||"GET"}`,r=(a,b=null)=>{if(m.enabled){let c=`[fetchData] [${new Date().toISOString()}]`;b?console.log(`${c} ${a}`,b):console.log(`${c} ${a}`)}};try{r(`开始请求: ${a}`,{method:e.method||"GET",server:j,cacheStrategy:h,revalidate:i});let c={};if(!j&&p.enabled&&o.length>0)try{o.forEach(a=>{let b=localStorage.getItem(a);if(null!==b)try{c[a]=JSON.parse(b)}catch{c[a]=b}}),m.logLocalStorage&&r("从localStorage读取的数据",c)}catch(a){r("读取localStorage失败",a)}let d=!1;if(!j&&n.enabled)try{let a=localStorage.getItem(q);if(a){let{data:b,timestamp:e}=JSON.parse(a),f=Math.floor((Date.now()-e)/1e3);if(Date.now()-e<1e3*n.ttl)return d=!0,m.logCache&&r(`本地缓存命中: ${q} (缓存年龄: ${f}秒)`,{ttl:n.ttl,timestamp:new Date(e).toISOString()}),{data:b,localStorageData:c,debug:{cacheHit:d,cacheKey:q}};localStorage.removeItem(q),m.logCache&&r(`本地缓存过期: ${q} (已清除)`,{age:f})}}catch(a){r("本地缓存读取失败",a)}let s=a.startsWith("http")?a:`${g}${a}`;r(`请求URL处理完成: ${s}`);let t=e.body,u=(e.method||"GET").toUpperCase();if(!j&&p.enabled&&Object.keys(c).length>0&&["POST","PUT","PATCH","DELETE"].includes(u))try{let a,b=t?"string"==typeof t?JSON.parse(t):{...t}:{};a="override"===p.strategy?{...c,...b}:{...b,...c},t=JSON.stringify(a),m.logRequest&&r("localStorage数据合并完成",{strategy:p.strategy,originalData:b,mergedData:a})}catch(a){r("合并localStorage数据失败",a)}let v={Accept:"application/json","X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":"https://api.limeetpet.com/","Access-Control-Allow-Methods":"DELETE, HEAD, GET, OPTIONS, POST, PUT","Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Headers":"Content-Type, Content-Range, Content-Disposition, Content-Description","Access-Control-Max-Age":1728e3,...j&&f,...e.headers},w={...e,headers:v,credentials:l?"include":"same-origin",...t&&{body:t},next:{...e.next||{},cache:h,...i>0&&{revalidate:i}},...m.enabled&&{debug:!0}};m.logRequest&&r("发送请求",{url:s,method:u,headers:{...v,Authorization:v.Authorization?"***隐藏***":void 0},cache:w.next?.cache,revalidate:w.next?.revalidate,body:"GET"!==u&&t?JSON.parse(t):void 0});let x=await fetch(s,w);if(m.logResponse&&m.enabled&&r("收到响应",{status:x.status,statusText:x.statusText,url:x.url,cacheStatus:x.headers.get("x-nextjs-cache")||"unknown"}),!x.ok)throw m.enabled&&r(`请求失败 [${x.status}]`,{url:s,statusText:x.statusText}),404===x.status&&(0,b.notFound)(),Error(`${k} (${x.status})`);let y=x.headers.get("content-type"),z=y?.includes("application/json")?await x.json():await x.text();if(m.logResponse&&m.enabled){let a="object"==typeof z?Array.isArray(z)?`数组 (长度: ${z.length})`:`对象 (属性数量: ${Object.keys(z).length})`:`文本 (长度: ${String(z).length})`;r(`响应数据解析完成: ${a}`,z)}if(!j&&n.enabled)try{localStorage.setItem(q,JSON.stringify({data:z,timestamp:Date.now()})),m.logCache&&r(`数据已缓存到localStorage: ${q}`)}catch(a){r("本地缓存存储失败",a)}return z}catch(a){if(m.enabled&&r(`请求错误: ${a.message}`,a),!1!==d.throwError)throw a;return{status:201,data:null}}}let d=a=>c("api/web/banner/query",{method:"POST",body:JSON.stringify(a),config:{server:!0,cache:"no-store",errorMessage:"获取数据失败"}}),e=(a={})=>c("api/web/product/queryProductList",{method:"POST",body:JSON.stringify(a),config:{server:!0,cache:"no-store",errorMessage:"获取数据失败"}}),f=a=>c("api/web/product/queryProductCategories",{method:"POST",body:JSON.stringify(a),config:{server:!0,cache:"no-store",errorMessage:"获取数据失败"}}),g=a=>c("api/web/product/productDetail",{method:"POST",body:JSON.stringify(a),config:{server:!0,cache:"no-store",errorMessage:"获取数据失败"}})},62284,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/Title/index.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/Title/index.jsx <module evaluation>","default")},98170,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/Title/index.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/Title/index.jsx","default")},32342,a=>{"use strict";a.i(62284);var b=a.i(98170);a.n(b)},85855,(a,b,c)=>{},40106,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/ProductGroup/index.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ProductGroup/index.jsx <module evaluation>","default")},91851,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/ProductGroup/index.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ProductGroup/index.jsx","default")},489,a=>{"use strict";a.i(40106);var b=a.i(91851);a.n(b)},62916,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/DetailSwiper/index.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/DetailSwiper/index.jsx <module evaluation>","default")},41610,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/DetailSwiper/index.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/DetailSwiper/index.jsx","default")},69145,a=>{"use strict";a.i(62916);var b=a.i(41610);a.n(b)},75676,a=>{"use strict";a.s(["default",()=>r,"generateMetadata",()=>p],75676);var b=a.i(7997);a.i(489);var c=a.i(69145),d=a.i(92359),e=a.i(24469);let f=function({productDetail:a}){let{lifestyle_image_link:c}=a;if(c&&c[0])return(0,b.jsx)(d.Container,{className:"product-detail-img-list",children:(()=>{let a=[];return c&&c.length&&c.map((c,d)=>{a.push((0,b.jsx)(e.Image,{src:c,fluid:!0},d))}),a})()})};var g=a.i(16612),h=a.i(32342);async function i({productDetail:a}){await (0,g.initI18nServer)();let{product_detail:c}=a,e=JSON.parse(c);if(e&&e[0])return(0,b.jsxs)(d.Container,{className:"product-attr clearfix",children:[(0,b.jsx)(h.default,{title:g.default.t("common.title.attribute")}),(0,b.jsx)("div",{className:"clearfix",children:(0,b.jsx)("ul",{children:(()=>{let a=[];return e&&e.length&&e[0]&&e.forEach((c,d)=>{a.push((0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"name ellipsis",title:c.attribute_name,children:c.attribute_name||""}),(0,b.jsx)("span",{className:"value ellipsis",title:c.attribute_value,children:c.attribute_value||""})]},d))}),a})()})})]})}let j=function({productDetail:a}){let{product_highlight:c}=a;if(c)return(0,b.jsx)(d.Container,{className:"product-highlight clearfix",children:(0,b.jsx)("div",{className:"clearfix",dangerouslySetInnerHTML:{__html:c||""}})})};async function k({productDetail:a}){await (0,g.initI18nServer)();let{description:c}=a;return!!c&&(0,b.jsxs)(d.Container,{className:"product-describe clearfix",children:[(0,b.jsx)(h.default,{title:g.default.t("common.title.detail")}),(0,b.jsx)("div",{className:"clearfix container",dangerouslySetInnerHTML:{__html:c||""}})]})}var l=a.i(97451),m=a.i(58862),n=a.i(165);a.i(70396);var o=a.i(73727);async function p({params:a}){let{id:b,productId:c,lang:d}=await a;if(b&&c&&d){let a=await (0,n.productDetailServer)({id:b,product_id:c,projectId:0x682c353d,language:d});if(a&&200===a.status&&a.data)return{title:a.data.title};(0,o.notFound)()}else(0,o.notFound)()}let q=async({id:a,productId:b,lang:c})=>{try{if(a&&b&&c){let d=await (0,n.productDetailServer)({id:a,product_id:b,projectId:0x682c353d,language:c});if(d&&200===d.status&&d.data)return d.data;return null}alert("页面参数错误")}catch(a){console.log(a)}},r=async function({params:a}){let{id:d,productId:e,lang:g}=await a;if(!(e&&g&&d))return!1;let h=await q({id:d,productId:e,lang:g});if(!h||h&&!h.saleSkusList)return!1;let n=(0,m.default)(g);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{lang:n,productDetail:h}),(0,b.jsx)(c.default,{from:"detail"}),!1,(0,b.jsx)(i,{productDetail:h}),(0,b.jsx)(k,{productDetail:h}),(0,b.jsx)(j,{productDetail:h}),(0,b.jsx)(f,{productDetail:h})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__932f9285._.js.map