module.exports=[92423,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(22066),e=a.i(62729),f=a.i(30377);let g={current:1,pageSize:4},h=function(){let{projectId:a,language:h}=(0,d.default)("common"),{productDetail:i}=(0,d.default)(),{itemGroupList:j,setItemGroupList:k}=(0,c.useState)([]),{pagination:l,setPagination:m}=(0,c.useState)(g),{total:n,setTotal:o}=(0,c.useState)(0),{item_group_id:p}=i,q=async()=>{let b=await (0,f.queryProductGroup)({pagination:l,language:h,projectId:a,item_group_id:p});b&&200===b.status&&b.data&&b.data.rows&&(k(b.data.rows),o(b.data.total))};return(0,c.useEffect)(()=>{q()},[p,l]),(0,b.jsxs)(e.Container,{className:"product-group clearfix",children:[(0,b.jsx)("div",{className:"prev",onClick:()=>{let{current:a}=l;m(Object.assign({},l,{current:a-1}))},children:"prev"}),(0,b.jsx)("ul",{children:(()=>{let a=[];return j&&j.length&&j.map((c,d)=>{a.push((0,b.jsx)("li",{children:(0,b.jsxs)("div",{className:"item",children:[(0,b.jsx)("div",{className:"img-box",children:(0,b.jsx)("img",{src:c.image_link})}),(0,b.jsx)("div",{className:"title",children:c.title}),(0,b.jsxs)("div",{className:"price",children:[(0,b.jsx)("i",{className:"unit",children:c.monetary_unit}),(0,b.jsx)("span",{className:"value",children:c.sale_price}),(0,b.jsxs)("span",{className:"original-value",children:["-",c.discount,"%"]})]})]})},`${c.id}_${d}`))}),a})()}),(0,b.jsx)("div",{className:"next",onClick:()=>{let{current:a}=l;m(Object.assign({},l,{current:a+1}))},children:"next"})]})}},76550,a=>{"use strict";a.s(["default",()=>y],76550);var b=a.i(87924),c=a.i(72131),d=a.i(38401);let e=function(a,b){let d=(0,c.useRef)(!0);(0,c.useEffect)(()=>{if(d.current){d.current=!1;return}return a()},b)};var f=a.i(54187),g=a.i(12870);let h=0x80000000-1;var i=a.i(92333),j=a.i(28525);a.i(58412);var k=a.i(37342),l=a.i(7222);let m=c.forwardRef(({className:a,bsPrefix:c,as:d="div",...e},f)=>(c=(0,l.useBootstrapPrefix)(c,"carousel-caption"),(0,b.jsx)(d,{ref:f,className:(0,j.default)(a,c),...e})));m.displayName="CarouselCaption";let n=c.forwardRef(({as:a="div",bsPrefix:c,className:d,...e},f)=>{let g=(0,j.default)(d,(0,l.useBootstrapPrefix)(c,"carousel-item"));return(0,b.jsx)(a,{ref:f,...e,className:g})});function o(a,b){let d=0;return c.Children.map(a,a=>c.isValidElement(a)?b(a,d++):a)}n.displayName="CarouselItem";var p=a.i(56618),q=a.i(80210),r=a.i(4752);let s=c.forwardRef(({defaultActiveIndex:a=0,...m},n)=>{let s,{as:t="div",bsPrefix:u,slide:v=!0,fade:w=!1,controls:x=!0,indicators:y=!0,indicatorLabels:z=[],activeIndex:A,onSelect:B,onSlide:C,onSlid:D,interval:E=5e3,keyboard:F=!0,onKeyDown:G,pause:H="hover",onMouseOver:I,onMouseOut:J,wrap:K=!0,touch:L=!0,onTouchStart:M,onTouchMove:N,onTouchEnd:O,prevIcon:P=(0,b.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:Q="Previous",nextIcon:R=(0,b.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:S="Next",variant:T,className:U,children:V,...W}=(0,k.useUncontrolled)({defaultActiveIndex:a,...m},{activeIndex:"onSelect"}),X=(0,l.useBootstrapPrefix)(u,"carousel"),Y=(0,l.useIsRTL)(),Z=(0,c.useRef)(null),[$,_]=(0,c.useState)("next"),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)(A||0);(0,c.useEffect)(()=>{ac||A===ae||(Z.current?_(Z.current):_((A||0)>ae?"next":"prev"),v&&ad(!0),af(A||0))},[A,ac,ae,v]),(0,c.useEffect)(()=>{Z.current&&(Z.current=null)});let ag=0;!function(a,b){let d=0;c.Children.forEach(a,a=>{c.isValidElement(a)&&b(a,d++)})}(V,(a,b)=>{++ag,b===A&&(s=a.props.interval)});let ah=(0,f.default)(s),ai=(0,c.useCallback)(a=>{if(ac)return;let b=ae-1;if(b<0){if(!K)return;b=ag-1}Z.current="prev",null==B||B(b,a)},[ac,ae,B,K,ag]),aj=(0,d.default)(a=>{if(ac)return;let b=ae+1;if(b>=ag){if(!K)return;b=0}Z.current="next",null==B||B(b,a)}),ak=(0,c.useRef)();(0,c.useImperativeHandle)(n,()=>({element:ak.current,prev:ai,next:aj}));let al=(0,d.default)(()=>{!document.hidden&&function(a){if(!a||!a.style||!a.parentNode||!a.parentNode.style)return!1;let b=getComputedStyle(a);return"none"!==b.display&&"hidden"!==b.visibility&&"none"!==getComputedStyle(a.parentNode).display}(ak.current)&&(Y?ai():aj())}),am="next"===$?"start":"end";e(()=>{v||(null==C||C(ae,am),null==D||D(ae,am))},[ae]);let an=`${X}-item-${$}`,ao=`${X}-item-${am}`,ap=(0,c.useCallback)(a=>{(0,q.default)(a),null==C||C(ae,am)},[C,ae,am]),aq=(0,c.useCallback)(()=>{ad(!1),null==D||D(ae,am)},[D,ae,am]),ar=(0,c.useCallback)(a=>{if(F&&!/input|textarea/i.test(a.target.tagName))switch(a.key){case"ArrowLeft":a.preventDefault(),Y?aj(a):ai(a);return;case"ArrowRight":a.preventDefault(),Y?ai(a):aj(a);return}null==G||G(a)},[F,G,ai,aj,Y]),as=(0,c.useCallback)(a=>{"hover"===H&&ab(!0),null==I||I(a)},[H,I]),at=(0,c.useCallback)(a=>{ab(!1),null==J||J(a)},[J]),au=(0,c.useRef)(0),av=(0,c.useRef)(0),aw=function(){let a=function(){let a=(0,c.useRef)(!0),b=(0,c.useRef)(()=>a.current);return(0,c.useEffect)(()=>(a.current=!0,()=>{a.current=!1}),[]),b.current}(),b=(0,c.useRef)();return(0,g.default)(()=>clearTimeout(b.current)),(0,c.useMemo)(()=>{let c=()=>clearTimeout(b.current);return{set:function(d,e=0){a()&&(c(),e<=h?b.current=setTimeout(d,e):function a(b,c,d){let e=d-Date.now();b.current=e<=h?setTimeout(c,e):setTimeout(()=>a(b,c,d),h)}(b,d,Date.now()+e))},clear:c,handleRef:b}},[])}(),ax=(0,c.useCallback)(a=>{au.current=a.touches[0].clientX,av.current=0,"hover"===H&&ab(!0),null==M||M(a)},[H,M]),ay=(0,c.useCallback)(a=>{a.touches&&a.touches.length>1?av.current=0:av.current=a.touches[0].clientX-au.current,null==N||N(a)},[N]),az=(0,c.useCallback)(a=>{if(L){let b=av.current;Math.abs(b)>40&&(b>0?ai(a):aj(a))}"hover"===H&&aw.set(()=>{ab(!1)},E||void 0),null==O||O(a)},[L,H,ai,aj,aw,E,O]),aA=null!=E&&!aa&&!ac,aB=(0,c.useRef)();(0,c.useEffect)(()=>{var a,b;if(!aA)return;let c=Y?ai:aj;return aB.current=window.setInterval(document.visibilityState?al:c,null!=(a=null!=(b=ah.current)?b:E)?a:void 0),()=>{null!==aB.current&&clearInterval(aB.current)}},[aA,ai,aj,ah,E,al,Y]);let aC=(0,c.useMemo)(()=>y&&Array.from({length:ag},(a,b)=>a=>{null==B||B(b,a)}),[y,ag,B]);return(0,b.jsxs)(t,{ref:ak,...W,onKeyDown:ar,onMouseOver:as,onMouseOut:at,onTouchStart:ax,onTouchMove:ay,onTouchEnd:az,className:(0,j.default)(U,X,v&&"slide",w&&`${X}-fade`,T&&`${X}-${T}`),children:[y&&(0,b.jsx)("div",{className:`${X}-indicators`,children:o(V,(a,c)=>(0,b.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=z&&z.length?z[c]:`Slide ${c+1}`,className:c===ae?"active":void 0,onClick:aC?aC[c]:void 0,"aria-current":c===ae},c))}),(0,b.jsx)("div",{className:`${X}-inner`,children:o(V,(a,d)=>{let e=d===ae;return v?(0,b.jsx)(r.default,{in:e,onEnter:e?ap:void 0,onEntered:e?aq:void 0,addEndListener:p.default,children:(b,d)=>c.cloneElement(a,{...d,className:(0,j.default)(a.props.className,e&&"entered"!==b&&an,("entered"===b||"exiting"===b)&&"active",("entering"===b||"exiting"===b)&&ao)})}):c.cloneElement(a,{className:(0,j.default)(a.props.className,e&&"active")})})}),x&&(0,b.jsxs)(b.Fragment,{children:[(K||0!==A)&&(0,b.jsxs)(i.default,{className:`${X}-control-prev`,onClick:ai,children:[P,Q&&(0,b.jsx)("span",{className:"visually-hidden",children:Q})]}),(K||A!==ag-1)&&(0,b.jsxs)(i.default,{className:`${X}-control-next`,onClick:aj,children:[R,S&&(0,b.jsx)("span",{className:"visually-hidden",children:S})]})]})]})});s.displayName="Carousel";let t=Object.assign(s,{Caption:m,Item:n});var u=a.i(62729),v=a.i(32487),w=a.i(22066),x=a.i(50944);let y=function(a){let d=(0,x.useRouter)(),{productDetail:e,saleSkusList:f,setSaleSkusList:g,currentSaleSku:h,setCurrentSaleSku:i}=(0,w.default)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(0),n=a=>{window.gtag&&gtag&&a&&a.projectId&&a.offer_id&&h&&gtag("event","detail_buy_click",{language:a.language,title:a.title,offer_id:a.offer_id,product_id:a.product_id,product_main_id:a.product_main_id,projectId:a.projectId,saleType:h.saleType,saleValue:h.saleValue,sale_price:h.sale_price,monetary_unit:h.monetary_unit,discount:h.discount,price:h.price})};return(0,c.useEffect)(()=>{let a=[],b=[],c=[];e&&e.image_link&&e.additional_image_link&&e.additional_image_link[0]&&e.saleSkusList?(e.image_link&&a.push(e.image_link),e.additional_image_link&&e.additional_image_link[0]&&(a=a.concat(e.additional_image_link)),a.forEach((a,c)=>{b.push(Object.assign({},{src:a,des:"additional_image_link"},{index:c}))}),e.saleSkusList[0]&&e.saleSkusList.forEach((d,e)=>{let f=a.length+e;"pattern"===d.saleType&&b.push(Object.assign({},{src:d.pattern,des:d.saleValue},{index:f})),0===e?c.push(Object.assign({},d,{index:f,current:!0})):c.push(Object.assign({},d,{index:f,current:!1}))}),g(c),k(b)):k([])},[e.product_id]),!!(e.image_link||e.additional_image_link||!e.saleSkusList[0])&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.Container,{className:"detail-swiper clearfix",children:[(0,b.jsx)("section",{className:"swiper-container",children:(0,b.jsx)(t,{"data-bs-theme":"dark",interval:3e3,activeIndex:l,onSelect:a=>{m(a)},children:(a=>{let c=[];return a&&a.length>0&&a.map((a,d)=>{c.push((0,b.jsx)(t.Item,{index:a.index,children:(0,b.jsx)(v.Image,{src:a.src,fluid:!0,alt:e.title})},d))}),c})(j)})}),(0,b.jsx)("div",{className:"arrow-left",onClick:()=>{d.back()}})]}),h&&(0,b.jsxs)(u.Container,{className:"page-detail-sale-sku",children:[(0,b.jsxs)("div",{className:"price-wrap clearfix",children:[(0,b.jsxs)("div",{className:"price",children:[(0,b.jsx)("i",{className:"unit",children:h.monetary_unit}),(0,b.jsx)("span",{className:"value",children:h.sale_price}),(0,b.jsx)("span",{className:"del-value",children:h.price}),h.discount>0&&(0,b.jsxs)("span",{className:"original-value",children:["-",h.discount,"%"]})]}),(0,b.jsxs)("div",{className:"title",children:[e.title," ",h.saleValue&&f.length>1&&(0,b.jsxs)("span",{children:["（",h.saleValue,"）"]})]})]}),(0,b.jsx)("div",{className:"sale-sku",children:(0,b.jsx)("ul",{children:h&&(()=>{let a=[];return f&&f[0]&&f.forEach((c,d)=>{c.saleType&&"default"!==c.saleType&&a.push((0,b.jsx)("li",{className:`${!0==c.current?"item current":"item"}`,id:`${c.product_main_id}_${c.product_id}_${c.id}`,onClick:()=>(a=>{let b=[];f&&f[0]&&(m(a.index),f.forEach(c=>{a.id==c.id?c.current&&!0==c.current?b.push(Object.assign({},c,{current:!1})):(i(c),b.push(Object.assign({},c,{current:!0}))):b.push(Object.assign({},c,{current:!1}))})),g(b)})(c,d),children:(0,b.jsx)("div",{className:"box",children:"pattern"===c.saleType?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"pattern",children:(0,b.jsx)(v.Image,{src:`${c.pattern+"?x-oss-process=style/w480"}`,fluid:!0,alt:c.saleValue})}),(0,b.jsx)("div",{className:"pattern-name ellipsis",children:c.pattern_name})]}):(0,b.jsx)("div",{className:"sale-value ellipsis",children:c.saleValue})})},`${c.product_main_id}_${c.product_id}_${c.id}`))}),a})()})}),(0,b.jsx)("div",{className:"submit-button clearfix",children:e&&e.link&&e.link.indexOf("www.taobao.com")>-1?(0,b.jsx)("a",{onClick:()=>n(e),href:`${e.mobile_link?e.mobile_link:e.link}`,target:"_blank",children:"淘宝购买"}):(0,b.jsx)("a",{onClick:()=>n(e),href:"https://www.amazon.co.jp/-/en/stores/LIMEETKET%E3%83%9A%E3%83%83%E3%83%88%E3%83%9B%E3%83%BC%E3%83%A0/page/E8D38BBB-5773-49C9-8A2F-0CC199CAC4C7",target:"_blank",children:"Go to Amazon to buy"})})]})]})}}];

//# sourceMappingURL=src_components_55261416._.js.map