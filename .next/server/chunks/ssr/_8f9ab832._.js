module.exports=[3372,a=>{"use strict";a.s(["default",()=>b]);let b=!1},26782,a=>{"use strict";a.s(["default",()=>f,"onceSupported",()=>d,"optionsSupported",()=>c]);var b=a.i(3372),c=!1,d=!1;try{var e={get passive(){return c=!0},get once(){return d=c=!0}};b.default&&(window.addEventListener("test",e,e),window.removeEventListener("test",e,!0))}catch(a){}let f=function(a,b,e,f){if(f&&"boolean"!=typeof f&&!d){var g=f.once,h=f.capture,i=e;!d&&g&&(i=e.__once||function a(c){this.removeEventListener(b,a,h),e.call(this,c)},e.__once=i),a.addEventListener(b,i,c?f:h)}a.addEventListener(b,e,f)}},90028,a=>{"use strict";function b(a){return a&&a.ownerDocument||document}a.s(["default",()=>b])},38401,54187,a=>{"use strict";a.s(["default",()=>d],38401);var b=a.i(72131);a.s(["default",()=>c],54187);let c=function(a){let c=(0,b.useRef)(a);return(0,b.useEffect)(()=>{c.current=a},[a]),c};function d(a){let d=c(a);return(0,b.useCallback)(function(...a){return d.current&&d.current(...a)},[d])}},18188,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(72131);let c=a=>a&&"function"!=typeof a?b=>{a.current=b}:a,d=function(a,d){return(0,b.useMemo)(()=>(function(a,b){let d=c(a),e=c(b);return a=>{d&&d(a),e&&e(a)}})(a,d),[a,d])}},88814,41733,a=>{"use strict";a.s(["default",()=>d],88814);var b=a.i(26782);a.s(["default",()=>c],41733);let c=function(a,b,c,d){var e=d&&"boolean"!=typeof d?d.capture:d;a.removeEventListener(b,c,e),c.__once&&a.removeEventListener(b,c.__once,e)},d=function(a,d,e,f){return(0,b.default)(a,d,e,f),function(){c(a,d,e,f)}}},80907,(a,b,c)=>{"use strict";c.__esModule=!0,c.default=function(){let a=(0,d.useRef)(!0),b=(0,d.useRef)(()=>a.current);return(0,d.useEffect)(()=>(a.current=!0,()=>{a.current=!1}),[]),b.current};var d=a.r(72131)},14918,(a,b,c)=>{"use strict";c.__esModule=!0,c.default=function(a){let b=(0,d.useRef)(null);return(0,d.useEffect)(()=>{b.current=a}),b.current};var d=a.r(72131)},48705,(a,b,c)=>{"use strict";c.__esModule=!0,c.default=void 0;var d=a.r(72131);c.default=function(a){let b=(0,d.useRef)(a);return(0,d.useEffect)(()=>{b.current=a},[a]),b}},97357,(a,b,c)=>{"use strict";c.__esModule=!0,c.default=function(a){let b=(0,e.default)(a);return(0,d.useCallback)(function(...a){return b.current&&b.current(...a)},[b])};var d=a.r(72131),e=function(a){return a&&a.__esModule?a:{default:a}}(a.r(48705))},30669,(a,b,c)=>{"use strict";c.__esModule=!0,c.default=void 0;var d=a.r(72131);let e=a.g.navigator&&"ReactNative"===a.g.navigator.product;c.default="undefined"!=typeof document||e?d.useLayoutEffect:d.useEffect},96718,49069,a=>{"use strict";function b(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}function c(a,b){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function d(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,c(a,b)}a.s(["default",()=>b],96718),a.s(["default",()=>d],49069)},22066,30377,a=>{"use strict";a.s(["default",()=>r],22066);var b=a.i(72131);let c=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},d=a=>{let d=(a=>a?c(a):c)(a),e=a=>(function(a,c=a=>a){let d=b.default.useSyncExternalStore(a.subscribe,b.default.useCallback(()=>c(a.getState()),[a,c]),b.default.useCallback(()=>c(a.getInitialState()),[a,c]));return b.default.useDebugValue(d),d})(d,a);return Object.assign(e,d),e},e=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>e(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>e(b)(a)}}},f={"ja-JP":[{name:"表紙",value:"",path:"/index",key:"index",current:"index",active:!0},{name:"製品",value:"product",key:"product",current:"product"},{name:"ゲームのおもちゃ",value:"33381771",path:"/productList/",key:"33381771",father_key:"product",current:"product"},{name:"猫の巣",value:"12771663",path:"/productList/",key:"12771663",father_key:"product",current:"product"},{name:"猫の家具と建物",value:"97974047",path:"/productList/",key:"97974047",father_key:"product",current:"product"},{name:"フードボックス",value:"18885882",path:"/productList/",key:"18885882",father_key:"product",current:"product"},{name:"全製品",value:"all",path:"/productList/",key:"all",father_key:"product",current:"product"},{name:"ブランド",value:"",path:"/brand",key:"brand",current:"brand"},{name:"工場",value:"",path:"/about",key:"about",current:"about"}]},g={"en-US":{key:"all",title:"All Product"},"ja-JP":{key:"all",title:"全製品"},"zh-CN":{key:"all",title:"所有商品"}};a.s(["getBanner",()=>j,"productDetail",()=>m,"queryProductCategories",()=>l,"queryProductGroup",()=>n,"queryProductList",()=>k],30377);var h=a.i(50944);async function i(a,{config:b={},...c}={}){let d={"X-API-Key":process.env.API_KEY||"","X-Server-Request":"true"},{baseURL:e,cache:f,revalidate:g,server:j,errorMessage:k,withCredentials:l,debug:m,localCache:n,localStorage:{keys:o,merge:p}}={baseURL:"https://api.limeetpet.com/",cache:"force-cache",revalidate:60,server:!0,errorMessage:"请求数据失败",withCredentials:!1,debug:{enabled:!1,logRequest:!0,logResponse:!0,logCache:!1,logLocalStorage:!1},localCache:{enabled:!1,ttl:60,key:null},localStorage:{keys:[],merge:{enabled:!1,strategy:"preserve"}},...b},q=n.key||`${a}-${c.method||"GET"}`,r=(a,b=null)=>{if(m.enabled){let c=`[fetchData] [${new Date().toISOString()}]`;b?console.log(`${c} ${a}`,b):console.log(`${c} ${a}`)}};try{r(`开始请求: ${a}`,{method:c.method||"GET",server:j,cacheStrategy:f,revalidate:g});let b={};if(!j&&p.enabled&&o.length>0)try{o.forEach(a=>{let c=localStorage.getItem(a);if(null!==c)try{b[a]=JSON.parse(c)}catch{b[a]=c}}),m.logLocalStorage&&r("从localStorage读取的数据",b)}catch(a){r("读取localStorage失败",a)}let i=!1;if(!j&&n.enabled)try{let a=localStorage.getItem(q);if(a){let{data:c,timestamp:d}=JSON.parse(a),e=Math.floor((Date.now()-d)/1e3);if(Date.now()-d<1e3*n.ttl)return i=!0,m.logCache&&r(`本地缓存命中: ${q} (缓存年龄: ${e}秒)`,{ttl:n.ttl,timestamp:new Date(d).toISOString()}),{data:c,localStorageData:b,debug:{cacheHit:i,cacheKey:q}};localStorage.removeItem(q),m.logCache&&r(`本地缓存过期: ${q} (已清除)`,{age:e})}}catch(a){r("本地缓存读取失败",a)}let s=a.startsWith("http")?a:`${e}${a}`;r(`请求URL处理完成: ${s}`);let t=c.body,u=(c.method||"GET").toUpperCase();if(!j&&p.enabled&&Object.keys(b).length>0&&["POST","PUT","PATCH","DELETE"].includes(u))try{let a,c=t?"string"==typeof t?JSON.parse(t):{...t}:{};a="override"===p.strategy?{...b,...c}:{...c,...b},t=JSON.stringify(a),m.logRequest&&r("localStorage数据合并完成",{strategy:p.strategy,originalData:c,mergedData:a})}catch(a){r("合并localStorage数据失败",a)}let v={Accept:"application/json","X-Requested-With":"XMLHttpRequest","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":"https://api.limeetpet.com/","Access-Control-Allow-Methods":"DELETE, HEAD, GET, OPTIONS, POST, PUT","Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Headers":"Content-Type, Content-Range, Content-Disposition, Content-Description","Access-Control-Max-Age":1728e3,...j&&d,...c.headers},w={...c,headers:v,credentials:l?"include":"same-origin",...t&&{body:t},next:{...c.next||{},cache:f,...g>0&&{revalidate:g}},...m.enabled&&{debug:!0}};m.logRequest&&r("发送请求",{url:s,method:u,headers:{...v,Authorization:v.Authorization?"***隐藏***":void 0},cache:w.next?.cache,revalidate:w.next?.revalidate,body:"GET"!==u&&t?JSON.parse(t):void 0});let x=await fetch(s,w);if(m.logResponse&&m.enabled&&r("收到响应",{status:x.status,statusText:x.statusText,url:x.url,cacheStatus:x.headers.get("x-nextjs-cache")||"unknown"}),!x.ok)throw m.enabled&&r(`请求失败 [${x.status}]`,{url:s,statusText:x.statusText}),404===x.status&&(0,h.notFound)(),Error(`${k} (${x.status})`);let y=x.headers.get("content-type"),z=y?.includes("application/json")?await x.json():await x.text();if(m.logResponse&&m.enabled){let a="object"==typeof z?Array.isArray(z)?`数组 (长度: ${z.length})`:`对象 (属性数量: ${Object.keys(z).length})`:`文本 (长度: ${String(z).length})`;r(`响应数据解析完成: ${a}`,z)}if(!j&&n.enabled)try{localStorage.setItem(q,JSON.stringify({data:z,timestamp:Date.now()})),m.logCache&&r(`数据已缓存到localStorage: ${q}`)}catch(a){r("本地缓存存储失败",a)}return z}catch(a){if(m.enabled&&r(`请求错误: ${a.message}`,a),!1!==b.throwError)throw a;return{status:201,data:null}}}let j=a=>i("api/web/banner/query",{method:"POST",body:JSON.stringify(a),config:{server:!1,cache:"no-store",errorMessage:"获取数据失败",localStorage:{keys:["i18nextLng"],merge:{enabled:!0,strategy:"preserve"}}}}),k=(a={})=>i("api/web/product/queryProductList",{method:"POST",body:JSON.stringify(a),config:{server:!1,cache:"no-store",errorMessage:"获取数据失败"}}),l=a=>i("api/web/product/queryProductCategories",{method:"POST",body:JSON.stringify(a),config:{server:!1,cache:"no-store",errorMessage:"获取数据失败"}}),m=a=>i("api/web/product/productDetail",{method:"POST",body:JSON.stringify(a),config:{server:!1,cache:"no-store",errorMessage:"获取数据失败"}}),n=a=>i("api/web/product/queryProductGroup",{method:"POST",body:JSON.stringify(a),config:{server:!1,cache:"no-store",errorMessage:"获取数据失败"}}),o={image_link:"",additional_image_link:"",product_highlight:"",item_group_id:"",description:"",lifestyle_image_link:"",monetary_unit:"",saleSkusList:[]},p={current:1,pageSize:20,total:0},q={channel:"limeetpet",type:"home"},r=(a=>a?d(a):d)(((a,b)=>(c,d,f)=>{let g,h={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=new Set,k=new Set,l=h.storage;if(!l)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),c(...a)},d,f);let m=()=>{let a=h.partialize({...d()});return l.setItem(h.name,{state:a,version:h.version})},n=f.setState;f.setState=(a,b)=>(n(a,b),m());let o=a((...a)=>(c(...a),m()),d,f);f.getInitialState=()=>o;let p=()=>{var a,b;if(!l)return;i=!1,j.forEach(a=>{var b;return a(null!=(b=d())?b:o)});let f=(null==(b=h.onRehydrateStorage)?void 0:b.call(h,null!=(a=d())?a:o))||void 0;return e(l.getItem.bind(l))(h.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return[!1,a.state];else{if(h.migrate){let b=h.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;let[e,f]=a;if(c(g=h.merge(f,null!=(b=d())?b:o),!0),e)return m()}).then(()=>{null==f||f(g,void 0),g=d(),i=!0,k.forEach(a=>a(g))}).catch(a=>{null==f||f(void 0,a)})};return f.persist={setOptions:a=>{h={...h,...a},a.storage&&(l=a.storage)},clearStorage:()=>{null==l||l.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},h.skipHydration||p(),g||o})((a,b)=>({projectId:0x682c353d,language:"ja-JP",categories:[],product_type_id:"all",swiperBanner:[],pagination:p,productList:[],productDetail:o,saleSkusList:[],currentSaleSku:{},menu:f["ja-JP"],swiperBanner:[],setUrLanguage:()=>{},setLanguage:b=>{a(a=>({...a,language:b}))},setCategories:b=>{b&&a(a=>({...a,categories:b}))},setProductTypeId:b=>{b&&a(a=>({...a,product_type_id:b}))},getCategoriesFetch:async c=>{let{projectId:d,language:e,setCategories:f,setProductTypeId:h}=b(),i=await l({projectId:d,language:e});if(i&&i.status&&200===i.status&&i.data.rows){let a=Object.assign({},g[e]),b=[];b.push(a),i.data.rows.length&&i.data.rows.forEach(a=>{a.key==c?b.push(Object.assign({},a,{active:!0})):b.push(Object.assign({},a,{active:!1}))}),f(b),h(c)}else a(a=>({...a,categories:[],product_type_id:null}))},setProductListPagination:b=>{a(a=>({...a,pagination:b}))},setProductList:b=>{a(a=>({...a,productList:b}))},getProductListFetch:async()=>{let{projectId:a,pagination:c,language:d,setProductList:e,setProductListPagination:f,product_type_id:g}=b(),h=await k({projectId:a,...c,product_type_id:g,language:d});h&&200===h.status&&h.data&&h.data.rows&&(e(h.data.rows),f(Object.assign({},c,{total:h.data.count})))},setProductDetail:async b=>{b&&b.saleSkusList&&b.saleSkusList[0]&&a(a=>({...a,productDetail:b,saleSkusList:b.saleSkusList,currentSaleSku:b.saleSkusList[0]}))},getProductDetailFetch:async c=>{let{projectId:d}=b(),{id:e,productId:f,language:g}=c,h=await m({id:e,product_id:f,projectId:d,language:g});h&&200===h.status&&h.data&&a(a=>({...a,productDetail:h.data,saleSkusList:h.data.saleSkusList,currentSaleSku:h.data.saleSkusList[0]}))},setSaleSkusList:b=>{a(a=>({...a,saleSkusList:b}))},setCurrentSaleSku:b=>{a(a=>({...a,currentSaleSku:b}))},setMenu:b=>{a(a=>({...a,menu:b}))},setSwiperBanner:b=>{a(a=>({...a,swiperBanner:b}))},getBannerFetch:async()=>{let{projectId:c,language:d}=b();try{let b=await j({projectId:c,...q,language:d});b&&200==b.status&&b.data&&b.data&&b.data.rows?a(a=>({...a,swiperBanner:b.data.rows})):a(a=>({...a,swiperBanner:[]}))}catch(a){console.log(a)}}}),{name:"limeetpet"}))}];

//# sourceMappingURL=_8f9ab832._.js.map